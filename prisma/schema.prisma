// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:123456@localhost:3306/mapa-de-area"
}


model City {
  id Int @id @default(autoincrement())
  name String
  user_in_city User_in_city[]
  massive Massive[]
  massive_user Massive_user[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}



model User_in_city {
  id Int @id @default(autoincrement())
  User_id Int
  city_id Int
  user User  @relation(fields: [User_id], references: [id])
  city City  @relation(fields: [city_id], references: [id])
  periodo String
  type String
  date DateTime
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}



model User {
id      Int   @default(autoincrement()) @id
name    String
email   String @unique
password String
massiva Massive[]
department String
access_level Int
user_in_city User_in_city[]
historic_pausa Historic_pause[]
massive_user Massive_user[]
pause Pause[]
created_at DateTime @default(now())
updated_at DateTime @updatedAt
}




model Massive {
id      Int   @default(autoincrement()) @id
description    String?
date    DateTime
returndate DateTime
status  String
type    String
user     User       @relation(fields: [user_id], references: [id])
user_id   Int
city     City       @relation(fields: [cidade_id], references: [id])
cidade_id   Int
created_at DateTime @default(now())
updated_at DateTime @updatedAt

massive_user Massive_user[]
}

model Type_pause {
id      Int   @default(autoincrement()) @id
name    String
time    Int
pausa Pause[]
historic_pausa Historic_pause[]
created_at DateTime @default(now())
updated_at DateTime @updatedAt

}

model Pause {
id      Int   @default(autoincrement()) @id
typePause Type_pause       @relation(fields: [typePause_id], references: [id])
typePause_id   Int
user     User       @relation(fields: [user_id], references: [id])
user_id   Int
created_at DateTime @default(now())
updated_at DateTime @updatedAt
}

model Historic_pause {
  id      Int   @default(autoincrement()) @id
  initial DateTime
  final DateTime
  user     User       @relation(fields: [user_id], references: [id])
  user_id   Int
  type_pause Type_pause       @relation(fields: [type_pause_id], references: [id])
  type_pause_id   Int
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}


model Massive_user {
  id      Int   @default(autoincrement()) @id
  
  name    String
  massiva Massive      @relation(fields: [massiva_id], references: [id])
  massiva_id   Int
  city    City      @relation(fields: [city_id], references: [id])
  city_id   Int
  user     User       @relation(fields: [user_id], references: [id])
  user_id   Int
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}